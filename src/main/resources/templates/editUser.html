<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head>
    <meta charset="UTF-8">
    <title>Users list</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
</head>

<body>
<!-- Всплывающее окно от модальной кнопки edi -->
<form th:method="PATCH"
      th:action="@{'/admin/edit/' + ${user.id}}">
    <div class="modal-dialog modal-dialog-centered"
         role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalEditLabel">
                    Edit user</h5>
            </div>
            <!-- Тело модального окна от модальной кнопки edit -->
            <div class="modal-body">
                <div class="text-center">
                    <div class="form-group">
                        <label for="editId"><b>ID</b></label>
                        <input type="number"
                               class="form-control"
                               th:value="*{user.id}"
                               id="editId"
                               disabled>
                    </div>
                    <div class="form-group">
                        <label for="editUsername"><b>Username</b></label>
                        <input type="text"
                               class="form-control"
                               name="username"
                               th:value="*{user.username}"
                               id="editUsername">
                    </div>
                    <div class="form-group">
                        <label for="editLastname"><b>Lastname</b></label>
                        <input type="text"
                               class="form-control"
                               name="lastname"
                               th:value="*{user.lastname}"
                               id="editLastname">
                    </div>
                    <div class="form-group">
                        <label for="editAge"><b>Age</b></label>
                        <input type="number" min="1"
                               max="150"
                               step="1" class="form-control"
                               name="age"
                               th:value="*{user.age}"
                               id="editAge">
                    </div>
                    <div class="form-group">
                        <label for="editEmail"><b>Email</b></label>
                        <input type="email"
                               class="form-control"
                               name="email"
                               th:value="*{user.email}"
                               id="editEmail">
                    </div>
                    <div class="form-group">
                        <label for="editPassword"><b>Password</b></label>
                        <input type="password"
                               class="form-control"
                               name="password"
                               th:value="*{user.password}"
                               id="editPassword">
                    </div>
                    <div class="form-group">
                        <label><b>Roles:</b></label>
                        <select multiple class="form-control"
                                name="roles" size="2"
                                required>
                            <option th:each="role : ${listRole}"
                                    th:value="${role.id}">
                                <th:block
                                        th:text="${role.name}"></th:block>
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a th:href="@{/admin/allUsers}" class="btn btn-secondary"> Close </a>
                <button type="submit"
                        class="btn btn-primary">Edit
                </button>
            </div>
        </div>
    </div>

</form>
</body>
</html>